var cov_klxmrm1rs=function(){var path="/home/cong/study/fse/f18-ESN-SB2/controllers/shareEmergencyPhoneNumberController.js",hash="90f8142278ab158b36a755b6172440171d9ff6b7",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/cong/study/fse/f18-ESN-SB2/controllers/shareEmergencyPhoneNumberController.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:32}},"1":{start:{line:2,column:13},end:{line:2,column:29}},"2":{start:{line:3,column:12},end:{line:3,column:21}},"3":{start:{line:4,column:15},end:{line:4,column:42}},"4":{start:{line:5,column:0},end:{line:5,column:34}},"5":{start:{line:6,column:19},end:{line:6,column:45}},"6":{start:{line:7,column:11},end:{line:7,column:26}},"7":{start:{line:8,column:17},end:{line:8,column:39}},"8":{start:{line:9,column:0},end:{line:9,column:52}},"9":{start:{line:10,column:0},end:{line:10,column:27}},"10":{start:{line:12,column:0},end:{line:12,column:69}},"11":{start:{line:13,column:17},end:{line:13,column:42}},"12":{start:{line:14,column:17},end:{line:14,column:45}},"13":{start:{line:15,column:17},end:{line:15,column:53}},"14":{start:{line:17,column:0},end:{line:26,column:1}},"15":{start:{line:18,column:2},end:{line:25,column:5}},"16":{start:{line:20,column:19},end:{line:20,column:27}},"17":{start:{line:22,column:22},end:{line:22,column:37}},"18":{start:{line:23,column:4},end:{line:23,column:65}},"19":{start:{line:24,column:4},end:{line:24,column:25}},"20":{start:{line:28,column:0},end:{line:35,column:2}},"21":{start:{line:29,column:2},end:{line:34,column:5}},"22":{start:{line:30,column:6},end:{line:33,column:9}},"23":{start:{line:31,column:10},end:{line:31,column:38}},"24":{start:{line:31,column:19},end:{line:31,column:38}},"25":{start:{line:32,column:10},end:{line:32,column:43}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:34},end:{line:17,column:35}},loc:{start:{line:17,column:71},end:{line:26,column:1}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:18,column:21},end:{line:18,column:22}},loc:{start:{line:18,column:42},end:{line:25,column:3}},line:18},"2":{name:"(anonymous_2)",decl:{start:{line:28,column:28},end:{line:28,column:29}},loc:{start:{line:28,column:38},end:{line:35,column:1}},line:28},"3":{name:"(anonymous_3)",decl:{start:{line:29,column:21},end:{line:29,column:22}},loc:{start:{line:29,column:40},end:{line:34,column:3}},line:29},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:27},end:{line:30,column:28}},loc:{start:{line:30,column:48},end:{line:33,column:7}},line:30}},branchMap:{"0":{loc:{start:{line:31,column:10},end:{line:31,column:38}},type:"if",locations:[{start:{line:31,column:10},end:{line:31,column:38}},{start:{line:31,column:10},end:{line:31,column:38}}],line:31}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var express=(cov_klxmrm1rs.s[0]++,require('express')),router=(cov_klxmrm1rs.s[1]++,express.Router());const app=(cov_klxmrm1rs.s[2]++,express());const server=(cov_klxmrm1rs.s[3]++,require('http').Server(app));cov_klxmrm1rs.s[4]++;io=require('socket.io')(server);const credential=(cov_klxmrm1rs.s[5]++,require('./credential.js'));var path=(cov_klxmrm1rs.s[6]++,require('path'));var bodyParser=(cov_klxmrm1rs.s[7]++,require('body-parser'));cov_klxmrm1rs.s[8]++;app.use(bodyParser.urlencoded({extended:false}));cov_klxmrm1rs.s[9]++;app.use(bodyParser.json());cov_klxmrm1rs.s[10]++;app.use(express.static(path.resolve(__dirname+'/../view/public')));const mongoose=(cov_klxmrm1rs.s[11]++,require('./db-connector'));const helpline=(cov_klxmrm1rs.s[12]++,require('../model/Helpline'));const Helpline=(cov_klxmrm1rs.s[13]++,mongoose.model('Helpline',helpline));cov_klxmrm1rs.s[14]++;module.exports.sharePhoneNumber=function(bodyUser,bodyPhoneNumber){cov_klxmrm1rs.f[0]++;cov_klxmrm1rs.s[15]++;return new Promise((resolve,reject)=>{cov_klxmrm1rs.f[1]++;// router.post('/shareStatus',(req,res)=>{
var username=(cov_klxmrm1rs.s[16]++,bodyUser);//console.log(user);
var phoneNumber=(cov_klxmrm1rs.s[17]++,bodyPhoneNumber);cov_klxmrm1rs.s[18]++;credential.updateEmergencyPhoneNumber(username,phoneNumber);cov_klxmrm1rs.s[19]++;resolve(phoneNumber);});};// module.exports = router;
cov_klxmrm1rs.s[20]++;module.exports.helplineList=function(){cov_klxmrm1rs.f[2]++;cov_klxmrm1rs.s[21]++;return new Promise((resolve,reject)=>{cov_klxmrm1rs.f[3]++;cov_klxmrm1rs.s[22]++;Helpline.find().exec(function(err,numbers){cov_klxmrm1rs.f[4]++;cov_klxmrm1rs.s[23]++;if(err){cov_klxmrm1rs.b[0][0]++;cov_klxmrm1rs.s[24]++;return reject(err);}else{cov_klxmrm1rs.b[0][1]++;}cov_klxmrm1rs.s[25]++;resolve(JSON.stringify(numbers));});});};